(this["webpackJsonpjunior-frontend-test"]=this["webpackJsonpjunior-frontend-test"]||[]).push([[0],{14:function(t,e,r){t.exports={itemsContainer:"ProductList_itemsContainer__1DZgm"}},19:function(t,e,r){},3:function(t,e,r){t.exports={filtersWrapper:"Filters_filtersWrapper__i4ibv",filtersTitle:"Filters_filtersTitle__2ycCf",filtersContainer:"Filters_filtersContainer__1sdcl",containerTitle:"Filters_containerTitle__F1swJ",categoriesContainer:"Filters_categoriesContainer__1Q7SA",categoriesList:"Filters_categoriesList__3Go8x",categoryItem:"Filters_categoryItem__20DZ0",isActive:"Filters_isActive__37svf",statusContainer:"Filters_statusContainer__efSYV",checkboxContent:"Filters_checkboxContent__3IK-9",statusItem:"Filters_statusItem__3JSEp"}},38:function(t,e,r){"use strict";r.r(e);var c,a=r(1),n=r.n(a),s=r(13),i=r.n(s),o=(r(19),r(2)),u=r(5),d=r(9),l=r.n(d),p=(r(36),r(10)),j={filter:{isNew:!1,isLimited:!1,search:"",category:[]},status:"idle",items:[]},f=function(t,e){switch(e.type){case"filter:change":return console.log("Action: ".concat(e.type,"; Payload:"),e.payload),Object(o.a)(Object(o.a)({},t),{},{status:"work",filter:Object(o.a)(Object(o.a)({},t.filter),e.payload)});case"filter:reset":return Object(o.a)(Object(o.a)({},t),{},{status:"work",filter:Object(o.a)({},j.filter)});case"request:start":return Object(o.a)(Object(o.a)({},t),{},{status:"work"});case"request:success":return Object(o.a)(Object(o.a)({},t),{},{status:"success",items:e.payload});case"request:error":return Object(o.a)(Object(o.a)({},t),{},{status:"error"})}},b=r(6),m=r.n(b);function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t}).apply(this,arguments)}function O(t,e){if(null==t)return{};var r,c,a=function(t,e){if(null==t)return{};var r,c,a={},n=Object.keys(t);for(c=0;c<n.length;c++)r=n[c],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(c=0;c<n.length;c++)r=n[c],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function _(t,e){var r=t.title,n=t.titleId,s=O(t,["title","titleId"]);return a.createElement("svg",h({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,c||(c=a.createElement("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11V11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z",fill:"#A8B8CA"})))}var g,v=a.forwardRef(_),C=(r.p,r(14)),y=r.n(C),x=r(4),L=r.n(x),N={barley:r.p+"static/media/Barley.6ae60696.png",canola:r.p+"static/media/Canola.edf797c9.png",corn:r.p+"static/media/Corn.5d9d931d.png",oats:r.p+"static/media/Oats.c98c863a.png",soybeans:r.p+"static/media/Soybeans.266a163b.png",wheat:r.p+"static/media/Wheat.3fb52b52.png"},w=r(0),I=function(t){var e=t.item;return Object(w.jsxs)("div",{className:L.a.productCardContainer,children:[Object(w.jsx)("img",{src:N[e.categoryType],className:L.a.productImg,alt:""}),Object(w.jsxs)("div",{className:L.a.productContent,children:[Object(w.jsxs)("div",{className:L.a.productCategoryWrapper,children:[Object(w.jsx)("span",{className:L.a.productCategory,children:e.categoryName}),Object(w.jsxs)("div",{className:L.a.productStatusWrapper,children:[(null===e||void 0===e?void 0:e.isLimited)&&Object(w.jsx)("span",{className:L.a.productIsLimited,children:"Limited"}),(null===e||void 0===e?void 0:e.isNew)&&Object(w.jsx)("span",{className:L.a.productIsNew,children:"New"})]})]}),Object(w.jsx)("div",{className:L.a.productName,children:e.name}),Object(w.jsx)("div",{className:L.a.productDescription,children:e.description}),Object(w.jsxs)("div",{className:L.a.priceWrapper,children:[Object(w.jsxs)("span",{className:L.a.productPrice,children:["$",e.price]}),!!(null===e||void 0===e?void 0:e.discount)&&Object(w.jsx)("span",{className:L.a.productDiscount,children:"Discount $".concat(e.discount," per bag")})]})]})]})},P=function(t){var e=t.items;return Object(w.jsx)("div",{className:y.a.itemsContainer,children:e.map((function(t){return Object(w.jsx)(I,{item:t},t.id)}))})},k=r(3),F=r.n(k);function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t}).apply(this,arguments)}function E(t,e){if(null==t)return{};var r,c,a=function(t,e){if(null==t)return{};var r,c,a={},n=Object.keys(t);for(c=0;c<n.length;c++)r=n[c],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(c=0;c<n.length;c++)r=n[c],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function W(t,e){var r=t.title,c=t.titleId,n=E(t,["title","titleId"]);return a.createElement("svg",S({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":c},n),r?a.createElement("title",{id:c},r):null,g||(g=a.createElement("path",{d:"M14 18L16 18L16 12L14 12L14 18ZM2 18L4 18L4 8L2 8L2 18ZM18 8L16 8L16 -6.99382e-07L14 -6.11959e-07L14 8L12 8L12 10L18 10L18 8ZM6 14L8 14L8 18L10 18L10 14L12 14L12 12L6 12L6 14ZM10 -4.37114e-07L8 -3.49691e-07L8 10L10 10L10 -4.37114e-07ZM6 6L6 4L4 4L4 -1.74846e-07L2 -8.74228e-08L2 4L-6.11959e-07 4L-5.24537e-07 6L6 6Z",fill:"#037BFF"})))}var D=a.forwardRef(W),T=(r.p,function(t){var e=t.handleFilterUpdate,r=t.filter,c=t.categories,n=Object(a.useState)([]),s=Object(u.a)(n,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){e({category:i})}),[i]),Object(w.jsxs)("div",{className:F.a.filtersWrapper,children:[Object(w.jsxs)("div",{className:F.a.filtersTitle,children:[Object(w.jsx)(D,{}),"Filters"]}),Object(w.jsxs)("div",{className:F.a.filtersContainer,children:[Object(w.jsxs)("div",{className:F.a.categoriesContainer,children:[Object(w.jsx)("span",{className:F.a.containerTitle,children:"Category"}),Object(w.jsxs)("div",{className:F.a.categoriesList,children:[Object(w.jsx)("div",{className:"".concat(F.a.categoryItem," ").concat(i.length?"":F.a.isActive),onClick:function(){return o([])},children:"All"}),!!c.length&&(null===c||void 0===c?void 0:c.map((function(t){return Object(w.jsx)("div",{className:"".concat(F.a.categoryItem," ").concat(i.find((function(e){return e===t.id}))?F.a.isActive:""),onClick:function(){return e=t.id,void(i.find((function(t){return t===e}))?o(i.filter((function(t){return t!==e}))):o([].concat(Object(p.a)(i),[e])));var e},children:t.name},t.id)})))]})]}),Object(w.jsxs)("div",{className:F.a.statusContainer,children:[Object(w.jsx)("span",{className:F.a.containerTitle,children:"Status"}),Object(w.jsxs)("div",{className:F.a.checkboxContent,children:[Object(w.jsxs)("div",{className:F.a.statusItem,children:[Object(w.jsx)("input",{id:"is_limited",type:"checkbox",onChange:function(){return e({isLimited:!r.isLimited})},checked:r.isLimited}),Object(w.jsx)("span",{children:"Limited"})]}),Object(w.jsxs)("div",{className:F.a.statusItem,children:[Object(w.jsx)("input",{id:"is_new",type:"checkbox",onChange:function(){return e({isNew:!r.isNew})},checked:r.isNew}),Object(w.jsx)("span",{children:"New"})]})]})]})]})]})}),q=function(){var t=Object(a.useState)(""),e=Object(u.a)(t,2),r=e[0],c=e[1],n=function(){var t=Object(a.useReducer)(f,j),e=Object(u.a)(t,2),r=e[0],c=e[1],n=Object(a.useCallback)((function(){return c({type:"filter:change",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}),[]),s=Object(a.useCallback)((function(){return c({type:"filter:reset"})}),[]),i=Object(a.useCallback)((function(){var t;c({type:"request:start"}),fetch("/api/product?".concat((t=r.filter,[].concat(Object(p.a)(t.category.map((function(t){return"category[]=".concat(t)}))),["isNew=".concat(t.isNew),"isLimited=".concat(t.isLimited),"search=".concat(t.search)]).join("&")))).then((function(t){if(!t.ok||200!==t.status)throw new Error("Request failed with status code ".concat(t.status));return t.json()})).then((function(t){return c({type:"request:success",payload:t.results})})).catch((function(t){console.error(t),c({type:"request:error"})}))}),[r.filter]);return Object(a.useEffect)((function(){i()}),[i]),Object(o.a)(Object(o.a)({},r),{},{updateFilter:n,resetFilter:s})}(),s=n.filter,i=n.status,b=n.items,h=n.updateFilter,O=function(){var t=Object(a.useState)([]),e=Object(u.a)(t,2),r=e[0],c=e[1],n=Object(a.useCallback)((function(){fetch("/api/category").then((function(t){if(!t.ok||200!==t.status)throw new Error("Request failed with status code ".concat(t.status));return t.json()})).then((function(t){c(t)})).catch((function(t){console.error(t)}))}),[]);return Object(a.useEffect)((function(){n()}),[]),r}();Object(a.useEffect)((function(){"error"===i&&d.store.addNotification({title:"Bad Request",message:"Something went wrong!",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})}),[i]);var _=function(t){return h(Object(o.a)({},t))};return Object(w.jsxs)("div",{className:m.a.root,children:[Object(w.jsx)(l.a,{}),Object(w.jsxs)("div",{className:m.a.productsHeader,children:[Object(w.jsx)("h2",{className:m.a.productsTitle,children:"Products"}),Object(w.jsxs)("div",{className:m.a.searchInputWrapper,children:[Object(w.jsx)(v,{className:m.a.searchIcon,onClick:function(){return _({search:r})}}),Object(w.jsx)("input",{type:"text",value:r,onChange:function(t){var e=t.target;c(e.value)},onKeyDown:function(t){"Enter"===t.key&&_({search:r})},placeholder:"Search among products",className:m.a.searchInput})]})]}),Object(w.jsx)(T,{filter:s,status:i,categories:O,handleFilterUpdate:_}),Object(w.jsx)(P,{items:b}),Object(w.jsx)("div",{children:"Test"})]})};var B=function(){return Object(w.jsx)(q,{})};i.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(B,{})}),document.getElementById("root"))},4:function(t,e,r){t.exports={productCardContainer:"ProductCard_productCardContainer__2Qupu",productImg:"ProductCard_productImg__hRqUJ",productContent:"ProductCard_productContent__3h1DD",productCategoryWrapper:"ProductCard_productCategoryWrapper__FHSYR",productCategory:"ProductCard_productCategory__1C9d-",productStatusWrapper:"ProductCard_productStatusWrapper__3ojMR",productIsLimited:"ProductCard_productIsLimited__3BFYa",productIsNew:"ProductCard_productIsNew__1mgET",productName:"ProductCard_productName__tBXQL",productDescription:"ProductCard_productDescription__3j5iz",priceWrapper:"ProductCard_priceWrapper__1dqpu",productPrice:"ProductCard_productPrice__3BDtG",productDiscount:"ProductCard_productDiscount__2SY68"}},6:function(t,e,r){t.exports={root:"Products_root__2-Xtr",productsHeader:"Products_productsHeader__2EnG3",productsTitle:"Products_productsTitle__3NQGh",searchInputWrapper:"Products_searchInputWrapper__3fRD5",searchInput:"Products_searchInput__9U008",searchIcon:"Products_searchIcon__FXebC"}}},[[38,1,2]]]);
//# sourceMappingURL=main.0e56e20e.chunk.js.map